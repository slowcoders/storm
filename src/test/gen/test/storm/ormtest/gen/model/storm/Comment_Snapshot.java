
package test.storm.ormtest.gen.model.storm;

import com.google.common.collect.*;
import org.slowcoders.storm.*;

import test.storm.ormtest.schema.*;
import test.storm.ormtest.gen.model.*;

import java.lang.String;

/**
This file is generated by Storm Generator.
Do not modify this file.
*/

public abstract class Comment_Snapshot extends EntitySnapshot implements IxComment.UpdateForm, Comment_ORM {

	private static final _TableBase.Initializer unsafeTools = _TableBase.initializer;

	/*internal*/ Post_ORM _post;

	/*internal*/ String _text;

	/*internal*/ User_ORM _user;

	/*internal*/ ImmutableList<IxSubComment.Snapshot> _subComments;

	protected Comment_Snapshot(IxComment ref) {
		super(ref);
	}

	public final IxPost getPost() {
		return (IxPost)(this._post == null ? null : this._post.getEntityReference());
	}

	public final String getText() {
		return this._text;
	}

	public final IxUser getUser() {
		return (IxUser)(this._user == null ? null : this._user.getEntityReference());
	}

	public final ImmutableList<IxSubComment.Snapshot> getSubComments() {
		if (this._subComments == null) /***/{
			this._subComments = getEntityReference().getSubComments().loadEntities();
		}
		return this._subComments;
	}

	/****************************************/
	/*  Internal methods                    */
	/*--------------------------------------*/

	public final IxComment.Snapshot getOriginalData() {
		return (IxComment.Snapshot)this;
	}

	public IxComment.Editor editEntity() {
		return getTable().edit(this);
	}

	public final Comment_Table getTable() {
		return _TableBase.tComment;
	}

	public final IxComment getEntityReference() {
		return (IxComment)super.getReference_internal();
	}

	protected void ensureLoadSubSnapshot() {
		super.ensureLoadSubSnapshot();
		this.getSubComments();
	}

}

