
package test.storm.ormtest.gen.model.storm;

import java.util.*;
import com.google.common.collect.*;
import org.slowcoders.storm.*;

import test.storm.ormtest.schema.*;
import test.storm.ormtest.gen.model.*;
import org.joda.time.DateTime;
import java.lang.String;
import org.joda.time.LocalDateTime;

/**
This file is generated by Storm Generator.
Do not modify this file.
*/

public abstract class Post_Snapshot extends EntitySnapshot implements IxPost.UpdateForm, Post_ORM {

	private static final _TableBase.Initializer unsafeTools = _TableBase.initializer;

	/*internal*/ User_ORM _user;

	/*internal*/ String _subject;

	/*internal*/ String _tag;

	/*internal*/ Body_ORM _body;

	/*internal*/ Collection<? extends String> _imageUrls;

	/*internal*/ DateTime _createdTime;

	/*internal*/ LocalDateTime _localCreatedTime;

	/*internal*/ ImmutableList<IxComment.Snapshot> _comments;

	protected Post_Snapshot(IxPost ref) {
		super(ref);
	}

	public final IxUser getUser() {
		return (IxUser)(this._user == null ? null : this._user.getEntityReference());
	}

	public final String getSubject() {
		return this._subject;
	}

	public final String getTag() {
		return this._tag;
	}

	public final IxBody.Snapshot getBody() {
		if (this._body == null) /***/{
			IxBody ref = getEntityReference().getBody();
			this._body = ref.loadSnapshot();
		}
		return (IxBody.Snapshot)this._body;
	}

	public final String getBody_Body() {
		return getBody().getBody();
	}

	public final ImmutableList<String> getImageUrls() {
		return (ImmutableList<String>)this._imageUrls;
	}

	public final DateTime getCreatedTime() {
		return this._createdTime;
	}

	public final LocalDateTime getLocalCreatedTime() {
		return this._localCreatedTime;
	}

	public final ImmutableList<IxComment.Snapshot> getComments() {
		if (this._comments == null) /***/{
			this._comments = getEntityReference().getComments().loadEntities();
		}
		return this._comments;
	}

	public final ImmutableList<IxLike> getLikes() {
		IxPost ref = this.getEntityReference();
		return (ref == null) ? null : ref.getLikes().selectEntities();
	}

	public final ImmutableList<IxLike.Snapshot> peekLikes() {
		IxPost ref = this.getEntityReference();
		return ref == null ? null : ref.getLikes().loadEntities();
	}

	/****************************************/
	/*  Internal methods                    */
	/*--------------------------------------*/

	public final IxPost.Snapshot getOriginalData() {
		return (IxPost.Snapshot)this;
	}

	public IxPost.Editor editEntity() {
		return getTable().edit(this);
	}

	public final Post_Table getTable() {
		return _TableBase.tPost;
	}

	public final IxPost getEntityReference() {
		return (IxPost)super.getReference_internal();
	}

	protected void ensureLoadSubSnapshot() {
		super.ensureLoadSubSnapshot();
		this.getBody();
		this.getComments();
	}

}

